# wsam 二进制格式

topic: 编写模块二进制格式解码器，实现简化版的 wasm-objdump 工具

模块：wasm 编译，传输和加载的单位；编译后的 wasm 模块主要以二进制格式呈现。

wasm 二进制格式总体结构：
以 magic number 和版本号开头。
在魔数和版本号之后是模块主体内容，被放在不同的段中；wasm 规范共定义了12种段，并给每种段分配了 ID。
除了自定义段，其他所有段最多只出现一次，且必须按照段 ID 递增出现。

# 指令集
Wasm指令包含两部分信息：操作码（Opcode）和操作数（Operands）。
操作码是指令的ID，决定指令将执行的操作；操作数则相当于指令的参数，决定指令的执行结果。

## 操作码
wasm 指令的操作码固定为一个字节，因此指令集最多只能包含 256 条指令。
因此称之为字节码。

## 操作数
分为：静态操作数和动态操作数。
静态操作数：直接编码在指令里，跟在操作码的后面。也称立即数。
动态操作数：运行时从操作数栈获取。